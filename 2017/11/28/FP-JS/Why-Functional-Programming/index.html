<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="format-detection" content="email=no"><meta name="description" content="Hans Blog"><meta name="keywords" content="Hans Blog"><title>Why Functional Programming - Hans Huang</title><link rel="stylesheet" href="/style/main.css"><link rel="icon" href="/favicon.ico"></head><body><input id="navi" type="checkbox"><ul class="main-navication"><li><a href="/"><span>Home</span></a></li><li><a href="/archives"><span>Achive</span></a></li><li><a href="https://github.com/HansHuang"><span>Github</span></a></li></ul><div class="wrapper" id="wrap"><div class="post-header"><label class="navi-button light" for="navi">MENU</label><img class="background" src="/images/post_background.jpg"><div class="post-title"><h1 class="title">Why Functional Programming</h1><ul class="meta"><li><i class="icon icon-author"></i>Hans Huang</li><li><i class="icon icon-clock"></i>37 Minutes</li><li><i class="icon icon-calendar"></i>November 28, 2017</li></ul></div></div><div class="article-content" style="max-width:1200px"><h2 id="Brief-history-of-software-engineering"><a href="#Brief-history-of-software-engineering" class="headerlink" title="Brief history of software engineering"></a>Brief history of software engineering</h2><p>At the beginning of the software programming, the code can only be executed on the specific target machine which coupled to the hardware(yes, it’s machine code). It’s hardly to be ran on another machine. In fact there is no this kind of requirement, since the computer is handful all over world at that time.</p>
<p>As computers are getting cheaper and more popular, it is a trouble and tricky. The first evolution is codes are separated into two parts: high-level abstraction(from machine), and native assembly code(face to machine). The latter one is transparent to us, translated from the former one. The intermediate translator we call it “<strong>compiler</strong>“. The high-level abstraction is the language what we coding directly like COBOL, LISP. Since then there is a clear border between software engineering &amp; hardware engineering. </p>
<p>Very soon the language C founded its kingdom, and it’s still popular &amp; mainstream in nowadays. For C is well known as process-oriented programming, highly structured code style and flow. The code could be reused in the unit of functions, this is big improvement, but still there is an elephant in room that function is coupled with state: to keep state data the variable must be set global, it’s dangerous that all other functions have ability to change it as well.</p>
<p>To resolve this kind of issue, the languages(like C++) encapsulate data &amp; function(method) into one unit which called “<strong>class</strong>“, this is object-oriented programming. The basic reuse level is class, by reference it directly or from hierarchy (inheritance). After so many year’s development, we all found that OOP is meeting the complex wall.</p>
 <img src="/2017/11/28/FP-JS/Why-Functional-Programming/Abstract_Factory_Pattern.jpg" title="Abstract Factory Pattern of GOF">
<h2 id="What-is-Functional-Programming"><a href="#What-is-Functional-Programming" class="headerlink" title="What is Functional Programming"></a>What is Functional Programming</h2><blockquote>
<p>Focus on result over steps.</p>
</blockquote>
<ol>
<li><strong>Function is first-class citizen.</strong> Function can be passed around(as a parameter or returned result), create dynamically, cached as data structure, even compose whole program. (LISP is an example.) Create function is low cost and convenient. Some methods like lambda expression, anonymous function can help achieve this goal.</li>
<li><strong>Favor pure function.</strong> Pure function is the function that has no side effects, the output is always same with given input, despite of any state changes from external of function, as well as won’t change external state as well. </li>
<li><strong>Favor expression over statement.</strong> The statement executes and returns value immediately, but expression yields value(lazy evaluation).</li>
<li><strong>Immutable data.</strong> To good for pure function and state management, the data(variable) is usually immutable. Transform/create new data instead of modify existing data. One data structure is put into a function, and a new data structure comes out. This is explicit contrast with OOP, as what we talked above, OOP packs mutable state and operation into an object. One more benefit is that focus on immutable state will lead the code in more declarative style. </li>
</ol>
<p>Below is am example to filter out the odd numbers and sort them:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = getSortedOdds([<span class="number">1</span>, <span class="number">32</span>, <span class="number">41</span>, <span class="number">11</span>, <span class="number">29</span>, <span class="number">83</span>, <span class="number">39</span>, <span class="number">78</span>])</span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">//[ 1, 11, 29, 39, 41, 83 ]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSortedOdds</span>(<span class="params">numbers</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> odds = filterOdds(numbers),</span><br><span class="line">        sortedOdds = sortNumbers(odds)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> sortedOdds</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">filterOdds</span>(<span class="params">numbers</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> result = []</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; numbers.length; i++) &#123;</span><br><span class="line">        <span class="keyword">const</span> element = numbers[i];</span><br><span class="line">        <span class="keyword">if</span> (isOdd(element)) &#123;</span><br><span class="line">            result.push(element)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isOdd</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> number % <span class="number">2</span> !== <span class="number">0</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sortNumbers</span>(<span class="params">numbers</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//actually this is functional programming: high-order function</span></span><br><span class="line">    <span class="keyword">return</span> numbers.sort(<span class="function"><span class="keyword">function</span> (<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> a - b</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>below is pure functional programming version:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> result = getSortedOdds([<span class="number">1</span>, <span class="number">32</span>, <span class="number">41</span>, <span class="number">11</span>, <span class="number">29</span>, <span class="number">83</span>, <span class="number">39</span>, <span class="number">78</span>])</span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">//[ 1, 11, 29, 39, 41, 83 ]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getSortedOdds</span>(<span class="params">numbers</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> numbers.filter(<span class="function"><span class="params">s</span> =&gt;</span> isOdd(s))</span><br><span class="line">        .sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isOdd</span>(<span class="params">number</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> number % <span class="number">2</span> !== <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>below is clojure version:<br><figure class="highlight clojure"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">(<span class="name"><span class="builtin-name">defn</span></span> getSortedOdds [numbers]</span><br><span class="line">    (<span class="name"><span class="builtin-name">-&gt;&gt;</span></span> numbers</span><br><span class="line">        (<span class="name"><span class="builtin-name">filter</span></span> odd? )</span><br><span class="line">        (<span class="name"><span class="builtin-name">sort</span></span>)))</span><br><span class="line"></span><br><span class="line">(<span class="name">getSortedOdds</span> [<span class="number">1</span>, <span class="number">32</span>, <span class="number">41</span>, <span class="number">11</span>, <span class="number">29</span>, <span class="number">83</span>, <span class="number">39</span>, <span class="number">78</span>])</span><br></pre></td></tr></table></figure></p>
<p>Voila !!!<br>So simple solution, so semantic code :)</p>
<h2 id="Declarative-vs-Imperative-Programming"><a href="#Declarative-vs-Imperative-Programming" class="headerlink" title="Declarative vs Imperative Programming"></a>Declarative vs Imperative Programming</h2><p>From name we can assume the declarative programming focus on “What”: declare to computer what I want, no care of detail workflow; the imperative programming focus on “How”: telling the computer how to to it.</p>
<p>The SQL could be your most familiar codes about declarative:<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">name</span> </span><br><span class="line"><span class="keyword">from</span> students </span><br><span class="line"><span class="keyword">where</span> age &lt; <span class="number">10</span></span><br></pre></td></tr></table></figure></p>
<p>translate to javascript is this:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names = students</span><br><span class="line">    .filter(<span class="function"><span class="params">s</span> =&gt;</span> s.age &lt; <span class="number">10</span>)</span><br><span class="line">    .map(<span class="function"><span class="params">s</span> =&gt;</span> s.name)</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(names)</span><br></pre></td></tr></table></figure></p>
<p>Below is the way of imperative programming:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> names = []</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; students.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span>(students[i].age &lt; <span class="number">10</span>)&#123;</span><br><span class="line">        names.push(students[i].name)</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(names)</span><br></pre></td></tr></table></figure></p>
<p>As you can see, the declarative programming could help us to describe what we want, no need to pay attention to the detailed implementation. The benefit is not just reduce lines of codes, performance potential improvement, but to lead us focus on higher level of abstraction to resolve what we want. Leave the implementation specific to pattern/framework/language, let us programmers handle the real problem.</p>
<h2 id="Language-Development-Trends"><a href="#Language-Development-Trends" class="headerlink" title="Language Development Trends"></a>Language Development Trends</h2><blockquote>
<p>Next generation of software programming</p>
</blockquote>
<p>Let’s continue the history of software engineering, on the side of software design it’s meeting complex wall; on the side of software development(coding, debugging) programers ware suffering from manually memory allocation/release (garbage collection). To resolve the pain point, soon the garbage collection became one of standards of almost all following major language, such as Java/C#… </p>
<p>And functional pattern was included as major feature, lambda expression could be regarded as milestone, it was added in C++ 11, C# 3.0 by 2013; Java 8 by 2014… And for pure functional languages, such as Clojure(dialect of Lisp), Scala, F# were won lot’s of attention and market share as well.</p>
</div><div class="article-meta" style="max-width:1200px"><div class="tags"><i class="icon icon-tag"></i><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Functional-Programming/">Functional Programming</a><span class="tag-list-count">9</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript/">Javascript</a><span class="tag-list-count">10</span></li></ul></div></div><ul class="navication"><li class="home"><a href="/"><i class="icon icon-home"></i></a></li><li><a href="/2017/11/28/FP-JS/Why-Javascript/"><i class="icon icon-arror-left"></i></a></li><li><a href="/2017/11/25/FP-JS/Functional-Thinking-in-Javascript/"><i class="icon icon-arror-right"></i></a></li></ul><div class="page-footer"><div class="top"><ul class="social"><li><a href="https://github.com/HansHuang" title="Github" target="_blank"><i class="icon icon-github"></i></a></li><li><a href="https://www.linkedin.com/in/hans-huang-0a6bb0b5/" title="Linkedin" target="_blank"><i class="icon icon-linkin"></i></a></li></ul></div><div class="bottom"><p class="copyright">© 2019 Hans Huang</p></div></div></div><script>var wrap = document.getElementById('wrap');
window.onload = function () {
  wrap.className += ' done';
}</script></body></html>